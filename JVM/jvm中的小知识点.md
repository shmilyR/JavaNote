## Class文件
Class文件是一组以8位字节为基础单位的二进制流。  
Class文件格式采用一种类似于C语言结构体的伪结构来存储数据。这种伪结构中只有两种数据类型：无符号数和表。
1. 无符号数属于基本的数据类型。以u1、u2、u4、u8来分别代表1个字节、2个字节、4个字节和8个字节的无符号数，无符号数可以用来描述数字、索引引用、数量值或者按照UTF-8编码构成字符串值。
2. 表是由多个无符号数或者其它表作为数据项构成的复合数据类型。表用于描述有层次结构的复合结构的数据，整个Class文件本质上就是一张表。  
## 魔数
每个Class文件的头4个字节成为魔数。它的唯一作用是确定这个文件是否为一个能被虚拟机接受的Class文件。
## 常量池
可以理解为Class文件中的资源仓库，是Class文件结构中与其他项目关联最多的数据类型，也是占用Class文件空间最大的数据项目之一，同时还是在Class文件中第一个出现的表类型数据项目。  
常量池中主要存放两大类常量：字面量和符号引用。  
1. 字面量接近于Java的常量；
2. 符号引用主要包括下面的常量：
    1. 类和接口的全限定名；
    2. 字段的名称和描述符；
    3. 方法的名称和描述符。
## 栈帧
用于支持虚拟机进行方法调用和方法执行的数据结构，它是虚拟机运行时数据区中的虚拟机栈的栈元素。栈帧存储了方法的局部变量表、操作数栈、动态连接和方法返回地址等信息。每一个方法从调用开始至执行完成的过程，都对应着一个栈帧在虚拟机栈里面从入栈到出栈的过程。  
组成：
1. 局部变量表：是一组变量值存储空间，用于存放方法参数和方法内部定义的局部变量。在Java程序被编译成Class文件时，就在方法的Code属性的max_locals数据项中确定了该方法所需要分配的最大局部变量表的容量。  
局部变量表的容量以变量槽(Slot)为最小单位。  
reference类型虚拟机规范没有明确说明它的长度，但一般来说，虚拟机至少都应当能从引用中直接或间接的查找到对象在Java堆中的起始地址索引和方法区中的对象类型数据。  
returnAddress类型是为字节码指令jsr、jsr_w和ret服务的，它指向了一条字节码指令的地址。  
虚拟机是使用局部变量表来完成参数值到参数变量列表的传递过程的，如果是实例方法，那么局部变量表的第0位索引的Slot默认是用于传递方法所属对象实例的引用，在方法中通过this访问。  
Slot是可以重用的，当Slot中的变量超出了作用域，那么下一次分配Slot的时候，将会覆盖原来的数据。Slot对对象的引用会影响GC(要是被引用，将不会被回收)，系统不会为局部变量赋予初始值(实例变量和类变量都会被赋予初始值)。
2. 操作数栈：Java虚拟机栈的解释执行引擎被称为"基于栈的执行引擎"，其中所指的栈就是指--操作数栈。  
操作数栈也被称为操作栈。  
和局部变量区一样，操作数栈也是被组织成一个以字节为单位的数组。但是和前者不同，它不是通过索引来访问的，而是通过标准的栈操纵：压栈和出栈来访问的。  
虚拟机在操作数栈中存储数据的方式和在局部变量区中是一样的。对于byte、short以及char类型的值在压入操作数栈之前，也会被转换为int.  
虚拟机把操作数栈作为它的工作区---大多数指令都要从这里弹出数据，执行运算，然后把结果压回操作数栈。