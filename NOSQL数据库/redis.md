# Redis
+ 介绍
    + 远程数据服务(Remote Dictionary Server)
    + 内存高速缓存数据库
    + 使用C编写,为key-value的数据模型
    + 支持的value类型：String,Hash,list(链表),set,有序set
    + 为了保证效率，数据都是缓存在内存中，也可以周期性的把更新的数据写入磁盘，或者把修改操作写入追加的记录文件。
+ 特点：
   + 高速读取数据
   + 减轻数据库负担
   + 有集合计算功能
   + 多种数据结构支持
+ redis的优势：
    + 性能极高 – Redis能读的速度是110000次/s,写的速度是81000次/s 。
    + 丰富的数据类型 – Redis支持二进制案例的 Strings, Lists, Hashes, Sets 及 Ordered Sets 数据类型操作。
    + 原子 – Redis的所有操作都是原子性的，意思就是要么成功执行要么失败完全不执行。单个操作是原子性的。多个操作也支持事务，即原子性，通过MULTI和EXEC指令包起来。
    + 丰富的特性 – Redis还支持 publish/subscribe, 通知, key 过期等等特性
+ 与其他key-value存储结构的不同：
    + Redis有着更为复杂的数据结构并且提供对他们的原子性操作，这是一个不同于其他数据库的进化路径。Redis的数据类型都是基于基本数据结构的同时对程序员透明，无需进行额外的抽象。
    + Redis运行在内存中但是可以持久化到磁盘，所以在对不同数据集进行高速读写时需要权衡内存，因为数据量不能大于硬件内存。在内存数据库方面的另一个优点是，相比在磁盘上相同的复杂的数据结构，在内存中操作起来非常简单，这样Redis可以做很多内部复杂性很强的事情。同时，在磁盘格式方面他们是紧凑的以追加的方式产生的，因为他们并不需要进行随机访问。
+ 数据类型
    + 字符串：  
        Redis最基本的数据类型.<font color="red">可以包含任何数据类型，包含jpg图片和序列化的对象</font>单个value值得最大上限是1G，如果只用String类型，则人为redis加上了持久化特性（重启服务器之后，数据不消失）。
    + Hash：  
       可以用来存储对应的MySQL中一行的数据，类似于关联数组。
    + 链表
        + List类型其实就是一个双向链表，通过pop、push操作从链表的头部或尾部添加或删除元素，<font color="red">这使得链表既可以用作栈，也可以用作队列</font>
        + 上进上出：栈 特点：数据 先进后出(从链表的头部添加元素)
        + 上进下出：队列 特点： 数据 先进先出(从链表的尾部添加元素)
    + 集合(无序性、唯一性)
        + 是String类型的无序集合
        + set元素可以包含(2^32-1)个元素
        + set集合可以进行简单的增、删外，还可以取交、并、差集。
        + <font color="red">每个集合中的元素不能重复</font>
    + 有序集合
+ 常用命令：
    + redis启动：  
        + 安装目录下: redis-server.exe Redis.windows.conf
        + 新打开一个命令框: redis-cli.exe -h 127.0.0.1 -p 6379
    + set 键名称 值 设置值 (重新设置则直接覆盖)
    + get 键名称 取值 (如果key不存在，则返回nil)
    + incr 键名称 对key的值做++操作，并返回一个新的值，每执行一次，值+1，值类型要是数据类型。
    + incrby 键名称 执行加法的操作，可以指定相加的值。
    + hset 哈希的名称(键名称) field(字段名称)   value 将对应的值设置进Hash表中
    ```
     hset user:id:1 name xxx
    :就表示一个普通符号，没有特殊含义
    ```
    + hget 哈希的名称(键名称) field(对应的字段名)
    + hmset 哈希名称(键名称) field1 value1 field2 value2 ...  一次性设置多个filed和value
    + hmget 哈希的名称 value1 value2... 一次性获取多个field的value
    + hgetall 哈希的名称 获取指定哈希中的所有field和value <font color="yellow">指定获得的是指定字段的键和值，而不是此表的所有信息</font>
    + lpush 链表名称(键的名称) 元素 从链表的头部添加元素
    + lrange 链表的名称 开始下标 结束下标 <font color="red">如果开始下标是0，结束下标是-1，则表示返回链表的所有元素；链表里面的元素是序号的(从0开始)，l类似于索引数组</font>(先进后出)
    + rpush 链表的名称(键的名称) 元素 从链表的尾部插入数据(先进先出) 
    + ltrim 链表的名称(键名称) 开始下标 结束下标 保留指定范围的元素
    + lpop 链表的名称 从链表的头部删除一个元素
    + sadd 集合名称(键名称) 元素名 向集合中添加元素
    + smembers 集合名 获取集合中的元素
    + sdiff 集合1 集合2 获取集合中的差集(在集合1中存在，但在集合2中不存在的元素) 应用：推荐好友
    + sinter 集合1 集合2 求两个集合的交集(在集合1和集合2中都存在) 应用：共同好友
    + sunion 集合1 集合2 求两个集合的并集(两个集合重复后，去掉重复的元素，留一个重复元素)
    + scard 集合名称 获取集合中元素的个数